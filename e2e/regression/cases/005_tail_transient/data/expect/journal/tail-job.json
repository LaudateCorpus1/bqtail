{
  "Status": "ok",
  "EventID": "~/\\d+/",
  "Load": {
    "createDisposition": "CREATE_IF_NEEDED",
    "destinationTable": {
      "datasetId": "temp",
      "projectId": "${gcp.projectId}",
      "tableId": "dummy_\\d"
    },
    "schema": {
      "fields": [
        {
          "mode": "REQUIRED",
          "name": "id",
          "type": "INTEGER"
        },
        {
          "mode": "REQUIRED",
          "name": "type_id",
          "type": "INTEGER"
        },
        {
          "name": "name",
          "type": "STRING"
        }
      ]
    },
    "sourceFormat": "NEWLINE_DELIMITED_JSON",
    "sourceUris": [
      "gs://${config.Bucket}/data/case005/dummy.json"
    ],
    "writeDisposition": "WRITE_APPEND"
  },
  "DeferTaskURL": "gs://${config.Bucket}/tasks/",
  "Async": false,
  "OnSuccess": [
    {
      "Action": "query",
      "Request": {
        "Append": true,
        "JobID": "~/bqtail--dummy--\\d+--dispatch--000_query/",
        "SQL": "~/SELECT * FROM temp.dummy_\\d+/",
        "Dest": "bqtail.dummy",
        "OnSuccess": [
          {
            "Action": "delete",
            "Request": {
              "JobID": "~/bqtail--dummy--\\d+--dispatch--000_query--000_delete/",
              "SourceURL": "gs://${config.Bucket}/data/case005/dummy.json"
            }
          },
          {
            "Action": "query",
            "Request": {
              "JobID": "~/bqtail--dummy--\\d+--dispatch--000_query--001_query/",
              "ProjectID": "",
              "SQL": "~/DROP TABLE temp.dummy_\\d+/",
              "UseLegacy": false
            }
          }
        ]
      }
    }
  ]
}